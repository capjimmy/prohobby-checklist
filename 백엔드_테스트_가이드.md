# 백엔드 서버 테스트 가이드

## ✅ 서버가 현재 실행 중입니다!

서버 주소: **http://localhost:5000**

---

## 🎯 테스트 방법

### 방법 1: 웹 브라우저로 테스트 (가장 쉬움!)

1. 브라우저에서 다음 파일을 엽니다:
   ```
   c:\Users\parkm\prohobby_checklist\backend\test-api.html
   ```

2. 또는 브라우저 주소창에 입력:
   ```
   file:///c:/Users/parkm/prohobby_checklist/backend/test-api.html
   ```

3. 화면에서 버튼을 클릭하여 테스트:
   - ✅ **회원가입** → 새 사용자 등록
   - ✅ **로그인** → 토큰 받기
   - ✅ **작업 등록** → 새 작업 생성
   - ✅ **작업 목록** → 모든 작업 보기
   - ✅ **작업 완료** → 작업 완료 처리
   - ✅ **독촉하기** → 작업자에게 독촉 알림

---

### 방법 2: curl 명령어로 테스트

#### 1. 회원가입
```bash
curl -X POST http://localhost:5000/api/register \
  -H "Content-Type: application/json" \
  -d "{\"name\":\"홍길동\",\"phone\":\"01012345678\",\"birthdate\":\"1990-01-01\",\"password\":\"1234\"}"
```

#### 2. 로그인
```bash
curl -X POST http://localhost:5000/api/login \
  -H "Content-Type: application/json" \
  -d "{\"phone\":\"01012345678\",\"password\":\"1234\"}"
```
→ 토큰을 복사해서 저장하세요!

#### 3. 사용자 목록 조회
```bash
curl http://localhost:5000/api/users \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"
```

#### 4. 작업 등록
```bash
curl -X POST http://localhost:5000/api/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]" \
  -d "{\"title\":\"프로젝트 기획\",\"description\":\"기획서 작성\",\"priority\":\"high\",\"deadline_date\":\"2025-11-01\",\"worker_ids\":[1]}"
```

#### 5. 작업 목록 조회
```bash
# 전체 보기
curl http://localhost:5000/api/tasks \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"

# 진행중만 보기
curl "http://localhost:5000/api/tasks?status=in_progress" \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"

# 완료만 보기
curl "http://localhost:5000/api/tasks?status=completed" \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"
```

#### 6. 작업 완료 처리
```bash
curl -X PUT http://localhost:5000/api/tasks/1/complete \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"
```

#### 7. 독촉 알림
```bash
curl -X POST http://localhost:5000/api/tasks/1/nudge \
  -H "Authorization: Bearer [여기에_토큰_붙여넣기]"
```

---

## 📊 테스트 결과 확인

### 이미 테스트된 데이터:

1. **등록된 사용자**
   - 홍길동 (01012345678) - ID: 1
   - 김철수 (01098765432) - ID: 2

2. **등록된 작업**
   - 프로젝트 기획서 작성 - ID: 1
   - 작업자: 홍길동, 김철수
   - 우선순위: 높음
   - 마감일: 2025-11-01

### 데이터 파일 위치:
```
backend/data/
  ├── users.json         # 사용자 정보
  ├── tasks.json         # 작업 정보
  ├── task_workers.json  # 작업자 매핑
  └── notifications.json # 알림 정보
```

이 JSON 파일들을 직접 열어서 데이터를 확인할 수 있습니다!

---

## 🔧 서버 관리

### 서버 상태 확인
```bash
curl http://localhost:5000/
```

### 서버 재시작
현재 터미널에서 `Ctrl + C`로 중지 후:
```bash
cd backend
node server.js
```

### 서버 로그 확인
서버를 실행한 터미널에서 실시간 로그를 볼 수 있습니다.

---

## 🎨 API 엔드포인트 전체 목록

### 인증
- `POST /api/register` - 회원가입
- `POST /api/login` - 로그인

### 사용자
- `GET /api/users` - 사용자 목록 (인증 필요)
- `GET /api/users/:id` - 특정 사용자 (인증 필요)

### 작업
- `GET /api/tasks` - 작업 목록 (인증 필요)
- `GET /api/tasks/:id` - 작업 상세 (인증 필요)
- `POST /api/tasks` - 작업 생성 (인증 필요)
- `PUT /api/tasks/:id` - 작업 수정 (인증 필요)
- `PUT /api/tasks/:id/complete` - 작업 완료 (인증 필요)
- `DELETE /api/tasks/:id` - 작업 삭제 (인증 필요)

### 알림
- `GET /api/notifications` - 알림 목록 (인증 필요)
- `PUT /api/notifications/:id/read` - 알림 읽음 (인증 필요)
- `POST /api/tasks/:id/nudge` - 독촉 알림 (인증 필요)

---

## 💡 팁

1. **토큰 관리**: 로그인 시 받은 토큰은 7일간 유효합니다
2. **데이터 초기화**: `backend/data` 폴더를 삭제하면 모든 데이터가 초기화됩니다
3. **에러 발생 시**: 서버 터미널의 로그를 확인하세요
4. **포트 변경**: `.env` 파일에서 `PORT=5000`을 다른 번호로 변경 가능

---

## 🚀 다음 단계: Android 앱 연동

백엔드 테스트가 완료되면:

1. Android Studio로 `android-app` 폴더 열기
2. `RetrofitClient.kt`에서 서버 URL 확인
3. 앱 빌드 및 실행
4. 앱에서 회원가입/로그인 테스트

자세한 내용은 `README.md`와 `QUICK_START.md`를 참고하세요!
